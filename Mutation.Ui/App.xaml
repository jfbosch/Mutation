<?xml version="1.0" encoding="utf-8"?>
<Application
    x:Class="Mutation.Ui.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Mutation.Ui">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <XamlControlsResources xmlns="using:Microsoft.UI.Xaml.Controls" />
            </ResourceDictionary.MergedDictionaries>

            <!-- Palette -->
            <Color x:Key="AppPrimaryColor">#FF4C6EF5</Color>
            <Color x:Key="AppSecondaryColor">#FF7F8CFF</Color>
            <Color x:Key="AppSurfaceColor">#FFF7F9FC</Color>
            <Color x:Key="AppCardColor">#FFFFFFFF</Color>
            <Color x:Key="AppAccentColor">#FF2F5BEA</Color>
            <Color x:Key="AppBorderColor">#FFE1E7F0</Color>
            <Color x:Key="AppTextPrimaryColor">#FF1C1E23</Color>
            <Color x:Key="AppTextSecondaryColor">#FF4A4D57</Color>

            <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource AppPrimaryColor}" />
            <SolidColorBrush x:Key="SecondaryBrush" Color="{StaticResource AppSecondaryColor}" />
            <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource AppSurfaceColor}" />
            <SolidColorBrush x:Key="CardBackgroundBrush" Color="{StaticResource AppCardColor}" />
            <SolidColorBrush x:Key="BorderBrushColor" Color="{StaticResource AppBorderColor}" />
            <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource AppTextPrimaryColor}" />
            <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource AppTextSecondaryColor}" />
            <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AppAccentColor}" />

            <!-- Typography -->
            <FontFamily x:Key="AppFontFamily">Segoe UI Variable Text</FontFamily>
            <Thickness x:Key="AppCardPadding">20</Thickness>

            <!-- Reusable styles -->
            <Style TargetType="FrameworkElement">
                <Setter Property="RequestedTheme" Value="Light" />
            </Style>

            <Style TargetType="TextBlock">
                <Setter Property="FontFamily" Value="{StaticResource AppFontFamily}" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
                <Setter Property="TextWrapping" Value="Wrap" />
            </Style>

            <Style TargetType="Button">
                <Setter Property="FontFamily" Value="{StaticResource AppFontFamily}" />
                <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrushColor}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Padding" Value="12,8" />
                <Setter Property="CornerRadius" Value="8" />
                <Setter Property="HorizontalAlignment" Value="Stretch" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid x:Name="RootGrid">
                                <Border
                                    x:Name="RootBorder"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="{TemplateBinding CornerRadius}">
                                    <ContentPresenter
                                        x:Name="ContentPresenter"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="{TemplateBinding Foreground}"
                                        ContentTransitions="{TemplateBinding ContentTransitions}" />
                                </Border>
                            </Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource SurfaceBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AccentBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AccentBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AccentBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="White" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="#FFECEFF5" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="#FFD5DBE7" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="0.6" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AccentBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootBorder" Storyboard.TargetProperty="BorderThickness">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="2" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unfocused" />
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="ComboBox">
                <Setter Property="FontFamily" Value="{StaticResource AppFontFamily}" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
                <Setter Property="Padding" Value="12,8" />
                <Setter Property="CornerRadius" Value="8" />
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrushColor}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="MinWidth" Value="200" />
            </Style>

            <Style TargetType="TextBox">
                <Setter Property="FontFamily" Value="{StaticResource AppFontFamily}" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrushColor}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="CornerRadius" Value="8" />
                <Setter Property="Padding" Value="12,10" />
                <Setter Property="ScrollViewer.VerticalScrollMode" Value="Auto" />
                <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
                <Setter Property="SelectionHighlightColor">
                    <Setter.Value>
                        <SolidColorBrush Color="{StaticResource AppAccentColor}" />
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="CardBorderStyle" TargetType="Border">
                <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrushColor}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="CornerRadius" Value="16" />
                <Setter Property="Padding" Value="{StaticResource AppCardPadding}" />
                <Setter Property="Shadow">
                    <Setter.Value>
                        <ThemeShadow />
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="SectionHeaderTextStyle" TargetType="TextBlock">
                <Setter Property="FontSize" Value="20" />
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
            </Style>

            <Style x:Key="SubHeaderTextStyle" TargetType="TextBlock">
                <Setter Property="FontSize" Value="14" />
                <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}" />
            </Style>

            <Style x:Key="StatusInfoBarStyle" TargetType="InfoBar">
                <Setter Property="Margin" Value="0,0,0,12" />
                <Setter Property="IsClosable" Value="False" />
                <Setter Property="CornerRadius" Value="12" />
                <Setter Property="HorizontalAlignment" Value="Stretch" />
            </Style>
        </ResourceDictionary>
    </Application.Resources>
</Application>
